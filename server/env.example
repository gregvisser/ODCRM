# ============================================================================
# Backend Environment Variables
# ============================================================================
# Copy this file to .env for local development
# In production (Render), set these in the Render dashboard
# NEVER commit .env files with real credentials!

# ============================================================================
# DATABASE
# ============================================================================
# PostgreSQL connection string
# Local dev: postgresql://postgres:password@localhost:5432/odcrm
# Production (Neon): Get from https://console.neon.tech
DATABASE_URL="postgresql://postgres:password@localhost:5432/odcrm"

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
# Port - Render will set this automatically in production
PORT=3001

# Environment - "development" or "production"
NODE_ENV=development

# Frontend origin(s) for CORS - comma-separated list
# Local dev: http://localhost:5173
# Production: https://www.bidlow.co.uk
FRONTEND_URL=http://localhost:5173
FRONTEND_URLS=http://localhost:5173

# ============================================================================
# MICROSOFT GRAPH / OUTLOOK OAUTH
# ============================================================================
# Get these from Azure App Registration
# See EMAIL_CAMPAIGNS_SETUP.md or AZURE_SETUP_GUIDE.md for instructions
MICROSOFT_CLIENT_ID=your-client-id-here
MICROSOFT_CLIENT_SECRET=your-client-secret-here
MICROSOFT_TENANT_ID=common

# OAuth callback URL
# Local dev: http://localhost:3001/api/outlook/callback
# Production: https://api.bidlow.co.uk/api/outlook/callback
REDIRECT_URI=http://localhost:3001/api/outlook/callback

# ============================================================================
# EMAIL TRACKING
# ============================================================================
# Domain for email tracking pixels and links
# Local dev: http://localhost:3001
# Production: https://api.bidlow.co.uk
EMAIL_TRACKING_DOMAIN=http://localhost:3001

# ============================================================================
# OPENAI API (for AI-powered features)
# ============================================================================
OPENAI_API_KEY=your-openai-api-key-here

# ============================================================================
# CLEARBIT API (for company enrichment)
# ============================================================================
CLEARBIT_API_KEY=your-clearbit-api-key-here

# ============================================================================
# WORKER CONFIGURATION
# ============================================================================
# Control background jobs - set to "true" to disable specific workers

# Disable leads sync worker (syncs from Google Sheets)
LEADS_SYNC_DISABLED=false
# Cron schedule for leads sync (default: every 10 minutes)
LEADS_SYNC_CRON=*/10 * * * *

# Disable about/company enrichment worker
ABOUT_ENRICHMENT_DISABLED=false
# Cron schedule for enrichment (default: 2 AM daily)
ABOUT_ENRICHMENT_CRON=0 2 * * *

# Email sender batch configuration
SENDER_BATCH_SIZE=25
SENDER_LOCK_MINUTES=5
MAILBOX_DAILY_CAP=50
MAILBOX_SPREAD_HOURS=10

